
# 实验报告：Buffon 投针实验估计 $\pi$ 值

**学生姓名：** [赖株涛] 

**学号：** [20231050070] 

**完成日期：** [2025/6/25]

## 一、实验目的
编写程序，利用 Buffon 投针实验来估计 $\pi$ 的值，并分析实验次数对估计精度的影响。

## 二、实验原理
简要描述 Buffon 投针实验的原理，包括投针概率与 $\pi$ 的关系公式。

## 三、实验环境
### 3.1 硬件环境
- 计算机型号：[填写计算机型号]
- CPU：[填写 CPU 型号]
- 内存：[填写内存容量]

### 3.2 软件环境
- 操作系统：[填写操作系统名称及版本]
- 编程语言：[ptyhon]
- 开发工具：[vscode]

## 四、实验步骤
### 4.1 投针实验模拟逻辑实现
详细描述实现投针实验模拟逻辑的步骤，可附上关键代码片段。
```python
# 此处填写关键代码示例
def buffon_experiment(num_trials: int, needle_length: float = 1.0, line_distance: float = 1.0) -> float:
    """模拟布丰投针实验，返回π的估计值"""
    if line_distance < needle_length:
        raise ValueError("线间距必须大于等于针的长度")
    
    hits = 0
    for _ in range(num_trials):
        # 随机生成针的中心到最近线的距离(0到line_distance/2之间)
        distance = random.uniform(0, line_distance / 2)
        # 随机生成针与线的夹角(0到π/2之间)
        angle = random.uniform(0, math.pi / 2)
        
        # 判断针是否与线相交
        if distance <= (needle_length / 2) * math.sin(angle):
            hits += 1
    
    # 计算π的估计值
    if hits == 0:
        return float('inf')  # 避免除零错误
    return (2 * needle_length * num_trials) / (line_distance * hits)
```

### 4.2 实验次数设置
说明实验中设置的不同实验次数，例如：100、1000、10000、100000 等。

### 4.3 运行实验并记录结果
记录每次实验得到的 $\pi$ 估计值。

## 五、实验结果
### 5.1 不同实验次数下的 $\pi$ 估计值
![QQ_1750818994415](https://github.com/user-attachments/assets/7c408a67-c8cb-4bce-88e9-6c53ab479041)

| 实验次数 | $\pi$ 估计值 |
|----------|---------------|
| 100      | [填写估计值]  |
| 1000     | [填写估计值]  |
| 10000    | [填写估计值]  |
| 100000   | [填写估计值]  |

### 5.2 实验结果可视化
附上不同实验次数与 $\pi$ 估计值的关系图表，可使用折线图或柱状图。
![实验结果图表]([填写图表路径])
![week18](https://github.com/user-attachments/assets/ff83d6cc-baec-406f-8bd4-b3b0d166ccef)

## 六、结果分析
### 6.1 实验次数对估计精度的影响
分析随着实验次数的增加， pi估计值的变化趋势，以及估计精度的变化情况。
1.估计值收敛性
当实验次数较少时（如 100-1,000 次），估计值波动较大，可能显著偏离真实值（约 3.14159）。随着实验次数增加（超过 10,000 次），估计值逐渐收敛于真实值，波动范围明显减小。在 1,000,000 次实验时，估计值通常稳定在 3.14 附近，相对误差降至 1% 以下。
2.误差衰减规律
相对误差与实验次数的平方根近似成反比，即 误差 反比于N的平方根。对数坐标系下，相对误差随实验次数增加呈线性下降趋势（见实验图表），验证了大数定律的预测。
3.可视化验证
实验图表显示，估计值的波动范围随实验次数增加而收窄，逐渐逼近真实值水平线。相对误差在对数 - 对数坐标系中呈现近似直线下降，斜率约为 - 0.5，与理论预测一致。
### 6.2 误差来源分析
讨论实验中可能存在的误差来源，如随机数生成的质量、模拟逻辑的近似等。
1.随机数生成的局限性
计算机伪随机数生成器（如 Python 的random模块）存在周期性和相关性，并非真正随机。
当实验次数极大时，这种非随机性可能导致统计偏差。
2.浮点数精度限制
浮点数运算存在舍入误差，尤其是在大量三角函数计算（如math.sin）中可能累积。
3.模拟逻辑的理论假设
实验假设针的位置和角度完全独立且均匀分布，但实际模拟中可能存在微小偏差。
当针长接近或超过线间距时，理论公式需修正，但代码未处理这种情况。
4.统计波动
即使在理想随机条件下，小样本实验仍会因统计涨落导致较大误差，需通过多次重复实验取平均来缓解。
## 七、实验结论
总结实验结果，说明 Buffon 投针实验是否能够有效估计 $\pi$ 的值，以及实验次数对估计精度的影响是否符合预期。
1.方法有效性
Buffon 投针实验能够有效估计 \(\pi\) 的值，实验结果与理论预测高度吻合。当实验次数足够大时（如 1,000,000 次），估计值可达到 99% 以上的准确率。
2.实验次数影响
估计精度与实验次数的平方根成正比，符合大数定律预期。实际实验中，100,000 次以上的投针通常能将相对误差控制在 0.5% 以内。
3.应用局限性
该方法计算效率较低，相比数学算法（如莱布尼茨级数）需要更多计算资源才能达到相同精度。主要价值在于展示概率统计与几何的联系，而非实用计算工具。
4.改进建议使用更高质量的随机数生成器（如numpy.random）可减少统计偏差。增加并行计算或蒙特卡洛模拟优化，提高大规模实验的效率。


        
